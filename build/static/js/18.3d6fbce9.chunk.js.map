{"version":3,"sources":["components/organisms/Table/index.js"],"names":["TABLE_HEADER","name","sortId","Table","data","useState","sortColumn","isAscending","sortData","setSortData","states","stateData","setStateData","useEffect","viewData","tempStates","length","forEach","state","push","state_name","daily","confirmed_daily","total","confirmed_total","varyingIcons","className","active_cases_daily","active_cases_total","recovered_daily","recovered_total","death_daily","death_total","tempData","handleSortClick","sort","firstEl","secondEl","localeCompare","parseInt","reverse","map","header","style","textAlign","justifyContent","onClick","bind","size","abbreviateNumber","formatNumber"],"mappings":"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","file":"static/js/18.3d6fbce9.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  ArrowUpIcon,\n  ArrowDownIcon,\n  SortAscIcon,\n  SortDescIcon\n} from '@primer/octicons-react';\nimport { formatNumber, abbreviateNumber } from '../../../utils/commonFunctions';\n\nconst TABLE_HEADER = [\n  { name: 'State/UT', sortId: 'regionName' },\n  { name: 'Confirmed', sortId: 'confirmed_total' },\n  { name: 'Active', sortId: 'active_cases_total' },\n  { name: 'Recovered', sortId: 'recovered_total' },\n  { name: 'Deceased', sortId: 'death_total' }\n];\n\nconst Table = ({\n  data\n}) => {\n  const [sortData, setSortData] = useState({\n    sortColumn: 'confirmed_total',\n    isAscending: false\n  });\n  const [stateData, setStateData] = useState({ states: [] });\n\n  useEffect(() => {\n    const viewData = [];\n    const tempStates = stateData.states.length? stateData.states: data.states;\n    if (stateData.states.length === 0) {\n      tempStates.forEach(state => {\n        viewData.push(state.state_name);\n        viewData.push({ daily: state.confirmed_daily, total: state.confirmed_total, varyingIcons: false, className: 'confirmed-daily' });\n        viewData.push({ daily: state.active_cases_daily, total: state.active_cases_total, varyingIcons: true, className: state.active_cases_daily>0? 'active-cases-daiy-up': 'active-cases-daiy-down' });\n        viewData.push({ daily: state.recovered_daily, total: state.recovered_total, varyingIcons: false, className: 'recovered-daily' });\n        viewData.push({ daily: state.death_daily, total: state.death_total, varyingIcons: false, className: 'death-daily' });\n      });\n      const tempData = { ...data, viewData };\n      setStateData(tempData);\n    }\n  }, [data, stateData.states, stateData, setStateData]);\n\n  const handleSortClick = sortId => {\n    const viewData = [];\n    const states = [ ...stateData.states ];\n    if (sortData.sortColumn !== sortId) {\n      setSortData({ sortColumn: sortId, isAscending: true });\n      if (sortId === 'regionName') {\n        states.sort((firstEl, secondEl) => {\n          const val = firstEl.state_name.localeCompare(secondEl.state_name);\n          return val;\n        });\n      } else {\n        states.sort((firstEl, secondEl) => {\n          if(parseInt(firstEl[sortId]) > parseInt(secondEl[sortId])) return 1;\n          if(parseInt(firstEl[sortId]) < parseInt(secondEl[sortId])) return -1;\n          return 0;\n        });\n      }\n    } else {\n      setSortData({ sortColumn: sortData.sortColumn, isAscending: !sortData.isAscending });\n      states.reverse();\n    }\n    states.forEach(state => {\n      viewData.push(state.state_name);\n      viewData.push({ daily: state.confirmed_daily, total: state.confirmed_total, varyingIcons: false, className: 'confirmed-daily' });\n      viewData.push({ daily: state.active_cases_daily, total: state.active_cases_total, varyingIcons: true, className: state.active_cases_daily>0? 'active-cases-daiy-up': 'active-cases-daiy-down' });\n      viewData.push({ daily: state.recovered_daily, total: state.recovered_total, varyingIcons: false, className: 'recovered-daily' });\n      viewData.push({ daily: state.death_daily, total: state.death_total, varyingIcons: false, className: 'death-daily' });\n    });\n    setStateData({ ...stateData, states, viewData });\n  };\n\n  return <div className=\"table fadeInUp\">\n    {TABLE_HEADER.map(header =>\n      <div\n        className=\"cell heading\"\n        style={{ textAlign: 'start', justifyContent: 'space-around' }}\n        onClick={handleSortClick.bind(this, header.sortId)}\n      >\n        <div>{header.name}</div>\n        {\n          sortData.sortColumn === header.sortId && (\n            <div className={'sort-icon'}>\n              {sortData.isAscending ? (\n                <SortAscIcon size={12} />\n              ) : (\n                <SortDescIcon size={12} />\n              )}\n            </div>)\n        }\n      </div>\n    )}\n\n    {stateData.viewData && stateData.viewData.map(state => {\n      return state.daily || state.total?\n        <div className={`cell body`} >\n          <div key={state.total} className={state.className}>\n            {state.daily?\n              <>\n                {state.varyingIcons?\n                  state.daily>0? <ArrowUpIcon size={16} />: <ArrowDownIcon size={16} />\n                : <ArrowUpIcon size={16} />}\n                {abbreviateNumber(state.daily)}\n              </>\n            : null}\n          </div>\n          <div>{formatNumber(state.total)}</div>\n        </div>\n        : <div className=\"cell body\" style={{ justifyContent: 'center' }}>\n          <div key={state} style={{ textAlign: 'start' }}>{state}</div>\n        </div>\n    })}\n    </div>\n}\n\nexport default Table;\n"],"sourceRoot":""}